# 1

批处理的主要缺点是____()
- [ ] 效率低
- [x] 失去了交互性
- [ ] 失去了并行性
- [ ] 以上都不是

> 解释：批处理操作系统没有考虑人机交互所需要的分时功能，所以开发人员或操作人员无法及时与计算机进行交互。
以ucore OS为例，如果它实现的调度算法是先来先服务调度算法（在后续章节“处理器调度”，相对其他调度算法，具体实现更简单），那它就是一种批处理操作系统了，没有很好的人机交互能力。

# 2

(2012统考)下列选项中，不可能在用户态发生的是（  ）
- [ ] 系统调用
- [ ] 外部中断
- [x] 进程切换
- [ ] 缺页

> （知识点：3.3中断、异常和系统调用比较）系统调用是提供给应用程序使用的，由用户态发出，进入内核态执行。外部中断随时可能发生；应用程序执行时可能发生缺页；进程切换完全由内核来控制。

（2012统考）中断处理和子程序调用都需要压栈以保护现场。中断处理一定会保存而子程序调用不需要保存其内容的是（  ）
- [ ] 程序计数器
- [x] 程序状态字寄存器
- [ ] 通用数据寄存器
- [ ] 通用地址寄存器

> （知识点：3.3中断、异常和系统调用比较）程序状态字（PSW）寄存器用于记录当前处理器的状态和控制指令的执行顺序，并且保留与运行程序相关的各种信息，主要作用是实现程序状态的保护和恢复。所以中断处理程序要将PSW保存，子程序调用在进程内部执行，不会更改PSW。

# 3

操作系统中可采用的内存管理方式包括() s1

- [x] 重定位(relocation)
- [x] 分段(segmentation
- [x] 分页(paging)
- [x] 段页式（segmentation+paging）

> 都有

在使能分页机制的情况下，更合适的外碎片整理方法是() s4

- [ ] 紧凑(compaction)
- [ ] 分区对换(Swapping in/out)
- [x] 都不是

> 分页方式不会有外碎片

描述伙伴系统(Buddy System)特征正确的是() s5

- [x] 多个小空闲空间可合并为大的空闲空间
- [x] 会产生外碎片
- [x] 会产生内碎片
- [ ] 都不对

> 前三个是对的。

描述段管理机制正确的是()  s2

- [x] 段的大小可以不一致
- [x] 段可以有重叠
- [x] 段可以有特权级
- [x] 段与段之间是可以不连续的

> 都对

可有效应对大地址空间可采用的页表手段是()  s7

- [x] 多级页表
- [x] 反置页表
- [ ] 页寄存器方案
- [ ] 单级页表

> 前两个是对的。

# 4

物理页帧数量为4，且初始时没有对应的虚拟页。虚拟页访问序列为 0,3,2,0,1,3,4,3,1,0,3,2,1,3,4 ，请问采用CLOCK置换算法（用1个bit表示存在时间）的缺页次数为（） s3

- [ ] 8
- [x] 9
- [ ] 10
- [ ] 11

> 9

物理页帧数量为4，且初始时没有对应的虚拟页。虚拟页访问序列为 0,3,2,0,1,3,4,3,1,0,3,2,1,3,4 ，请问采用CLOCK置换算法（用2个关联，bit表示存在时间,可以表示4,）的缺页次数为（） s3


- [x] 7
- [ ] 8
- [ ] 9
- [ ] 10

> 7

```
物理页帧数量为4
0,3,2,0,1,3,4,3,1,0,3,2,1,3,4

1 0
0
f 1
0 01 0 
1 00    <--
2 00
3 00

2 3
3,0
f 2
0 01 0
0 01 0 
1 01 3 
2 00    <--
3 00

3 2
2,3,0
f 3
0 01 0 
1 01 3 
2 01 2  
3 00   <--

4 0
2,3,0
f 3
0 10 0 
1 01 3 
2 00 2  
3 00   <--


5 1 
1,2,3,0
f 4

0 10 0 <--
1 01 3 
2 01 2  
3 01 1  


6 3
1,2,3,0

0 10 0 <--
1 10 3 
2 01 2  
3 01 1  


7 4
f 5

round 1
0 01 0 <--
1 01 3 
2 00 2  
3 00 1  

round 2

0 00 0
1 00 3
2 01 4  
3 00 1  <--

8 3
f 
0 00 0
1 01 3
2 01 4  
3 00 1  <--


9 1
f 
0 00 0
1 01 3
2 01 4  
3 01 1  <--


10 0
f 
0 01 0
1 01 3
2 01 4  
3 01 1  <--

11 3
f 
0 01 0
1 10 3
2 01 4  
3 01 1  <--

12 2
f 6
0 01 0
1 10 3
2 01 4  
3 01 1  <--

round 1
0 00 0
1 01 3
2 00 4  
3 00 1  <--

round 2
0 00 0 <--
1 01 3
2 00 4  
3 01 2  

13 1 
f 7
0 01 1 
1 01 3 <--
2 00 4  
3 01 2 

14 3
f
0 01 1 
1 10 3 <--
2 00 4 
3 01 2 

15 4
f 7
0 01 1
1 10 3  <--
2 01 4  
3 01 2  
```

# 5


关于进程的生命周期的描述正确的是（） s3

- [x] 内核选择一个就绪态的进程，让它占用处理机并执行，此时进程处于运行态
- [x] 进程请求并等待系统服务，无法马上完成，此时进程处于等待态
- [x] 进程执行的当前时间片用完了，此时进程处于就绪态
- [x] 进程退出了，但还没被父进程回收，此时进程处于zombie态

> 都对


操作系统来维护一组队列，表示系统中所有进程的当前状态，有关管理进程的描述正确的是（） s5

- [x] 就绪态进程维护在进程就绪队列中
- [x] 等待态进程维护在进程等待队列中
- [ ] 运行态进程维护在进程运行队列中
- [ ] zombie态进程不在任何队列中

> 1,2